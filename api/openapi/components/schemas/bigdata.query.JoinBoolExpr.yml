type: object
description: |-
  Specify a jointure condition.

  Joins the field \p ref (of the base collection)
  with the field \p otherRef of the \p otherCollection.
required:
  - otherCollection
  - joinCondition
properties:
  ref:
    description: |-
      The jointure field.

      This reference belongs to the base collection of this boolean
      expression.
    oneOf:
      - $ref: ./bigdata.db.GlobalVariableRef.yml
      - $ref: ./bigdata.mde.FieldRef.yml
      - $ref: ./bigdata.mde.WeakRef.yml
      - $ref: ./bigdata.qrrd.SlotRef.yml
      - $ref: ./bigdata.qrrd.ValueRef.yml
      - $ref: ./bigdata.qrrd.ValueRefRef.yml
      - $ref: ./bigdata.qrrd.WildcardRef.yml
      - $ref: ./bigdata.qrrd.WildcardRefRef.yml
      - $ref: ./bigdata.query.Age.yml
      - $ref: ./bigdata.query.AggregationOperation.yml
      - $ref: ./bigdata.query.BinToJson.yml
      - $ref: ./bigdata.query.CgiToCuid.yml
      - $ref: ./bigdata.query.CuidToCgi.yml
      - $ref: ./bigdata.query.CutString.yml
      - $ref: ./bigdata.query.DayOfWeek.yml
      - $ref: ./bigdata.query.FormulaRef.yml
      - $ref: ./bigdata.query.LocationCellInfo.yml
      - $ref: ./bigdata.query.LocationCoords.yml
      - $ref: ./bigdata.query.LocationGad.yml
      - $ref: ./bigdata.query.LocationMlpBin.yml
      - $ref: ./bigdata.query.LocationMlpJson.yml
      - $ref: ./bigdata.query.LocationRadius.yml
      - $ref: ./bigdata.query.RecnoRef.yml
      - $ref: ./bigdata.ref.AutoRef.yml
      - $ref: ./bigdata.ref.DealiasValue.yml
      - $ref: ./bigdata.ref.MultiRef.yml
      - $ref: ./bigdata.ref.NamedRef.yml
      - $ref: ./bigdata.ref.ObjectField.yml
      - $ref: ./bigdata.ref.ObjectIsA.yml
      - $ref: ./bigdata.ref.ObjectType.yml
      - $ref: ./bigdata.ref.ParametricRef.yml
      - $ref: ./bigdata.ref.PlacemarkInfosRef.yml
      - $ref: ./bigdata.ref.PressureNextAvailability.yml
      - $ref: ./bigdata.ref.ServerTimezoneOffset.yml
      - $ref: ./bigdata.ref.TestRef.yml
      - $ref: ./bigdata.ref.ValueRef.yml
      - $ref: ./bigdata.relational.TableRef.yml
      - $ref: ./bigdata.relational.TypedValueRef.yml
      - $ref: ./bigdata.schema.AggregationRef.yml
      - $ref: ./bigdata.schema.ColumnRef.yml
      - $ref: ./bigdata.schema.KeyRef.yml
      - $ref: ./bigdata.schema.SourceRef.yml
      - $ref: ./bigdata.schema.ValueRef.yml
      - $ref: ./bigdata.schema.ZoneRef.yml
      - $ref: ./bigdata.sql.SqlRef.yml
      - $ref: ./bigdata.task.CacheRef.yml
      - $ref: ./bigdata.task.TaskOutputRef.yml
      - $ref: ./one.geomarketing.CgiToMccRef.yml
      - $ref: ./one.geomarketing.FakeCgiRef.yml
      - $ref: ./one.report.ExternalRef.yml
      - $ref: ./one.report.LocationRadiusRef.yml
      - $ref: ./one.report.LocationRef.yml
      - $ref: ./one.scenario.ConstantRef.yml
      - $ref: ./one.scenario.Exposure.yml
      - $ref: ./one.scenario.PlacemarkInfosRef.yml
      - $ref: ./one.scenario.SuccessRate.yml
      - $ref: ./one.scenario.Successful.yml
      - $ref: ./qre.ContextEvent.yml
      - $ref: ./qre.CreateEventRef.yml
      - $ref: ./qre.EnteredInScenario.yml
      - $ref: ./qre.EntityRuleContextRef.yml
      - $ref: ./qre.FormatRef.yml
      - $ref: ./qre.IsInControlGroup.yml
      - $ref: ./qre.IsInRule.yml
      - $ref: ./qre.IsInScenario.yml
      - $ref: ./qre.IsInUserRules.yml
      - $ref: ./qre.ScenarioEnterTs.yml
      - $ref: ./qre.ScenarioExitTs.yml
      - $ref: ./qre.VariableRef.yml
      - $ref: ./qts.ExtractRef.yml
    discriminator:
      propertyName: _class
  otherCollection:
    type: string
    description: The jointure collection.
  joinCondition:
    description: The condition on the jointure collection.
    allOf:
      - $ref: ./bigdata.query.BoolExpr.yml
  otherRef:
    description: |-
      The field to join with in the jointure collection.

      If not provided, the ref will be guessed:
      - if there is one with the same name in the jointure collection and
      with at least one similar tag, it will be selected;
      - else the first source having a matching tag will be selected;
      - else no ref will be selected and jointure will fail.

      this guessing method exists for legacy reasons, you should
               explicit \p otherRef instead of relying on it.
    oneOf:
      - $ref: ./bigdata.db.GlobalVariableRef.yml
      - $ref: ./bigdata.mde.FieldRef.yml
      - $ref: ./bigdata.mde.WeakRef.yml
      - $ref: ./bigdata.qrrd.SlotRef.yml
      - $ref: ./bigdata.qrrd.ValueRef.yml
      - $ref: ./bigdata.qrrd.ValueRefRef.yml
      - $ref: ./bigdata.qrrd.WildcardRef.yml
      - $ref: ./bigdata.qrrd.WildcardRefRef.yml
      - $ref: ./bigdata.query.Age.yml
      - $ref: ./bigdata.query.AggregationOperation.yml
      - $ref: ./bigdata.query.BinToJson.yml
      - $ref: ./bigdata.query.CgiToCuid.yml
      - $ref: ./bigdata.query.CuidToCgi.yml
      - $ref: ./bigdata.query.CutString.yml
      - $ref: ./bigdata.query.DayOfWeek.yml
      - $ref: ./bigdata.query.FormulaRef.yml
      - $ref: ./bigdata.query.LocationCellInfo.yml
      - $ref: ./bigdata.query.LocationCoords.yml
      - $ref: ./bigdata.query.LocationGad.yml
      - $ref: ./bigdata.query.LocationMlpBin.yml
      - $ref: ./bigdata.query.LocationMlpJson.yml
      - $ref: ./bigdata.query.LocationRadius.yml
      - $ref: ./bigdata.query.RecnoRef.yml
      - $ref: ./bigdata.ref.AutoRef.yml
      - $ref: ./bigdata.ref.DealiasValue.yml
      - $ref: ./bigdata.ref.MultiRef.yml
      - $ref: ./bigdata.ref.NamedRef.yml
      - $ref: ./bigdata.ref.ObjectField.yml
      - $ref: ./bigdata.ref.ObjectIsA.yml
      - $ref: ./bigdata.ref.ObjectType.yml
      - $ref: ./bigdata.ref.ParametricRef.yml
      - $ref: ./bigdata.ref.PlacemarkInfosRef.yml
      - $ref: ./bigdata.ref.PressureNextAvailability.yml
      - $ref: ./bigdata.ref.ServerTimezoneOffset.yml
      - $ref: ./bigdata.ref.TestRef.yml
      - $ref: ./bigdata.ref.ValueRef.yml
      - $ref: ./bigdata.relational.TableRef.yml
      - $ref: ./bigdata.relational.TypedValueRef.yml
      - $ref: ./bigdata.schema.AggregationRef.yml
      - $ref: ./bigdata.schema.ColumnRef.yml
      - $ref: ./bigdata.schema.KeyRef.yml
      - $ref: ./bigdata.schema.SourceRef.yml
      - $ref: ./bigdata.schema.ValueRef.yml
      - $ref: ./bigdata.schema.ZoneRef.yml
      - $ref: ./bigdata.sql.SqlRef.yml
      - $ref: ./bigdata.task.CacheRef.yml
      - $ref: ./bigdata.task.TaskOutputRef.yml
      - $ref: ./one.geomarketing.CgiToMccRef.yml
      - $ref: ./one.geomarketing.FakeCgiRef.yml
      - $ref: ./one.report.ExternalRef.yml
      - $ref: ./one.report.LocationRadiusRef.yml
      - $ref: ./one.report.LocationRef.yml
      - $ref: ./one.scenario.ConstantRef.yml
      - $ref: ./one.scenario.Exposure.yml
      - $ref: ./one.scenario.PlacemarkInfosRef.yml
      - $ref: ./one.scenario.SuccessRate.yml
      - $ref: ./one.scenario.Successful.yml
      - $ref: ./qre.ContextEvent.yml
      - $ref: ./qre.CreateEventRef.yml
      - $ref: ./qre.EnteredInScenario.yml
      - $ref: ./qre.EntityRuleContextRef.yml
      - $ref: ./qre.FormatRef.yml
      - $ref: ./qre.IsInControlGroup.yml
      - $ref: ./qre.IsInRule.yml
      - $ref: ./qre.IsInScenario.yml
      - $ref: ./qre.IsInUserRules.yml
      - $ref: ./qre.ScenarioEnterTs.yml
      - $ref: ./qre.ScenarioExitTs.yml
      - $ref: ./qre.VariableRef.yml
      - $ref: ./qts.ExtractRef.yml
    discriminator:
      propertyName: _class
  aggrCondition:
    description: |-
      Allow to express more complex join queries.

      For instance, all accounts with more than 5 IP TV entities or all
      accounts whose contracts have done more than 5 MMS last month.
    allOf:
      - $ref: ./bigdata.query.JoinAggrCondition.yml
  sensitivity:
    description: The strictness of the comparison.
    allOf:
      - $ref: ./platform.Sensitivity.yml
    default: 0
