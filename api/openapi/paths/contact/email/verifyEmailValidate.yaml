post:
  operationId: 'getEmailValidate'
  tags:
    - Member
  summary: Validate verification code of an email
  description: >-
    This RPC verifies if the auth token is valid, and if the currently
    authenticated user has the provided email as an unverified email
    address, and if the code matches the expected code. Then the email is
    moved to the list of email addresses and removed from the unverified
    addresses.
  requestBody:
    content:
      application/json:
        schema:
          type: object
          example:
            authToken: >-
              gAAAAABkOTd_oh-J9BgJ8yvLLgU16Fj8d4MTLjL4dd7ho6crKo10hVJjYJZccThQoA_54YaWTXJ3UkGbEqURemIdkM4bbJepXL-Qo5KZoY2vajHEcioSYibC6pJhj0if9xhcjgjTsiGJAbTs_wL6RJvT2AiSzLhIyXzw2aLreb3ac9AT8-fSbD-1yMuuPVty_KKWvqZBEO1i
            email: roger.rabbit@gmail.com
            code: '786291'
  parameters:
    - name: Content-Type
      in: header
      schema:
        type: string
      example: application/json
    - name: Accept
      in: header
      schema:
        type: string
      example: application/json
  responses:
    '200':
      description: OK
      headers:
        Content-Type:
          schema:
            type: string
            example: application/json
      content:
        application/json:
          schema:
            type: object
          example:
            profile:
              id: ''
              enabled: false
              firstname: Javier
              lastname: Rabbit
              emails:
                - roger.rabbit@gmail.com
              mobilePhones: []
              homePhones: []
              pois: []
              language: FR
              additionals: []
              unverified:
                emails: []
                mobilePhones: []
                homePhones: []
    '500':
      description: Internal Server Error
      headers:
        date:
          schema:
            type: string
            example: Mon, 11 Mar 2024 17:32:22 GMT
        content-type:
          schema:
            type: string
            example: application/json; charset=utf-8
        content-length:
          schema:
            type: integer
            example: '56'
        accept-encoding:
          schema:
            type: string
            example: identity, gzip, deflate
        access-control-allow-origin:
          schema:
            type: string
            example: '*'
        cache-control:
          schema:
            type: string
            example: no-store, no-cache, must-revalidate
        pragma:
          schema:
            type: string
            example: no-cache
        content-encoding:
          schema:
            type: string
            example: gzip
        x-iplb-request-id:
          schema:
            type: string
            example: 3656328B:B202_05C462FB:01BB_65EF4026_CCF64:2B3A
        x-iplb-instance:
          schema:
            type: integer
            example: '53497'
      content:
        application/json:
          schema:
            type: object
          example:
            code: 101
            desc: invalid token
