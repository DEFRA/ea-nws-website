post:
  tags:
    - Member
  summary: Register to a Partner
  operationId: 'getUnregisterLocationFromPartner'
  description: >-
    This RPC registers the authenticated user to the given Partner, with the
    associated registration parameters.


    This RPC fails if the registration already exists, or if too many
    registrations are already active.
  requestBody:
    content:
      application/json:
        schema:
          type: object
          example:
            authToken: >-
              gAAAAABkOTd_oh-J9BgJ8yvLLgU16Fj8d4MTLjL4dd7ho6crKo10hVJjYJZccThQoA_54YaWTXJ3UkGbEqURemIdkM4bbJepXL-Qo5KZoY2vajHEcioSYibC6pJhj0if9xhcjgjTsiGJAbTs_wL6RJvT2AiSzLhIyXzw2aLreb3ac9AT8-fSbD-1yMuuPVty_KKWvqZBEO1i
            partnerId: '4'
            params:
              channelVoiceEnabled: true
              channelSmsEnabled: true
              channelEmailEnabled: true
              channelMobileAppEnabled: true
              partnerCanView: false
              partnerCanEdit: false
              categories:
                - domain: NFWS
                  code: FLOOD_ALERT
                - domain: NFWS
                  code: FLOOD_WARNING
                - domain: NFWS
                  code: SEVERE_FLOOD_WARNING
  parameters:
    - name: Content-Type
      in: header
      schema:
        type: string
      example: application/json
    - name: Accept
      in: header
      schema:
        type: string
      example: application/json
  responses:
    '200':
      description: OK
      headers:
        Content-Type:
          schema:
            type: string
            example: application/json
      content:
        application/json:
          schema:
            type: object
          example:
            registrations:
              - partner:
                  id: '4'
                  name: NFWS England
                  description: >-
                    We work to create better places for people and wildlife
                    and support sustainable development.  EA is an executive
                    non-departmental public bodysponsored by the Department
                    for Environment Food & Rural Affairs supported by 1
                    public body.
                  longName: Environment Agency - England
                  logoUrl: https://app-uk-nfws.intersec.com/static/favicon.png
                  backgroundUrl: >-
                    https://assets.publishing.service.gov.uk/government/uploads/system/uploads/image_data/file/174575/s300_coast_1.jpg
                  urlSlug: england
                registrationDate: 1681374396
                params:
                  channelVoiceEnabled: true
                  channelSmsEnabled: true
                  channelEmailEnabled: true
                  channelMobileAppEnabled: true
                  partnerCanView: false
                  partnerCanEdit: false
                  categories: []
    '500':
      description: Internal Server Error
      headers:
        date:
          schema:
            type: string
            example: Mon, 11 Mar 2024 17:38:58 GMT
        content-type:
          schema:
            type: string
            example: application/json; charset=utf-8
        content-length:
          schema:
            type: integer
            example: '56'
        accept-encoding:
          schema:
            type: string
            example: identity, gzip, deflate
        access-control-allow-origin:
          schema:
            type: string
            example: '*'
        cache-control:
          schema:
            type: string
            example: no-store, no-cache, must-revalidate
        pragma:
          schema:
            type: string
            example: no-cache
        content-encoding:
          schema:
            type: string
            example: gzip
        x-iplb-request-id:
          schema:
            type: string
            example: 3656328B:FA84_05C462FB:01BB_65EF41B2_CDDEC:6C58
        x-iplb-instance:
          schema:
            type: integer
            example: '53910'
      content:
        application/json:
          schema:
            type: object
          example:
            code: 101
            desc: invalid token
